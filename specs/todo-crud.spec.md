# TODO CRUD仕様

## 概要

TODOアイテムの作成・読取・更新・削除に関する振る舞いを定義する。

## データ構造

```typescript
type Todo = {
  id: string;          // 一意識別子（crypto.randomUUID()で生成）
  title: string;       // TODOのタイトル（1〜100文字）
  completed: boolean;  // 完了状態
  createdAt: number;   // 作成日時（Date.now()）
};
```

## 振る舞い定義

### TODO追加

| 条件 | 操作 | 期待結果 |
|------|------|---------|
| 入力欄にテキストがある | Enterキーを押す | TODOが追加され、入力欄がクリアされる |
| 入力欄にテキストがある | 追加ボタンをクリック | TODOが追加され、入力欄がクリアされる |
| 追加成功時 | - | リストの先頭に新しいTODOが表示される |
| 追加成功時 | - | localStorageに自動保存される |

### TODO編集

| 条件 | 操作 | 期待結果 |
|------|------|---------|
| TODOが表示されている | タイトルをダブルクリック | 編集モードに切り替わる |
| 編集モード中 | テキストを変更してEnter | タイトルが更新される |
| 編集モード中 | Escapeキーを押す | 編集がキャンセルされ元に戻る |
| 編集モード中 | 入力欄からフォーカスが外れる | タイトルが更新される |

### TODO削除

| 条件 | 操作 | 期待結果 |
|------|------|---------|
| TODOが表示されている | 削除ボタン（×アイコン）をクリック | TODOがリストから削除される |
| 削除成功時 | - | localStorageから削除される |

### 完了切替

| 条件 | 操作 | 期待結果 |
|------|------|---------|
| 未完了のTODO | チェックボックスをクリック | 完了状態になり、取り消し線が表示される |
| 完了済みのTODO | チェックボックスをクリック | 未完了状態に戻り、取り消し線が消える |
| 完了切替時 | - | localStorageに自動保存される |

## データ永続化

- 全ての変更操作（追加・編集・削除・完了切替）の直後にlocalStorageへ保存する
- ページリロード時にlocalStorageからTODOリストを復元する
- localStorageのキーは `"todos"` とする
- localStorageが利用不可の場合はインメモリで動作する（エラーにはしない）
